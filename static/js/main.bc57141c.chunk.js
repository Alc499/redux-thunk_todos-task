(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(32)},30:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(6),c=n.n(o),s=n(2),u=(n(30),n(7)),l=n(8),i=n(10),d=n(9),m=n(11),f=n(18),p=n(4),E=n(19),b=n(5),h=n.n(b),y=n(15),g="https://jsonplaceholder.typicode.com",v=function(){var e=Object(y.a)(h.a.mark(function e(){var t,n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(2e3);case 2:return e.next=4,fetch("".concat(g,"/todos"));case 4:return t=e.sent,e.next=7,t.json();case 7:return n=e.sent,r=function(e){return n.find(function(t){return t.userId===e})},e.abrupt("return",n.filter(function(e){return e===r(e.userId)}));case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(y.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(2e3);case 2:return e.next=4,fetch("".concat(g,"/users/").concat(t));case 4:return n=e.sent,e.abrupt("return",n.json());case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),j=function(e){return new Promise(function(t){setTimeout(t,e)})};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var N=function(){return function(e){return e({type:"startTodosLoading"}),v().then(function(t){return e(function(e){return{type:"setTodos",todos:e}}(t))}).catch(function(){return e({type:"handleTodosError"})})}},w=function(e){return function(t){return t({type:"startUserLoading"}),t(function(e){return{type:"selectUser",userId:e}}(e)),O(e).then(function(e){return t(function(e){return{type:"setUser",user:e}}(e))}).catch(function(){return t({type:"handleUserError"})})}},T=function(e){return e.todos},I=function(e){return e.todosAreLoading},k=function(e){return e.todosHaveError},C=function(e){return e.currentUser},A=function(e){return e.selectedUserId},x=function(e){return e.userIsLoading},P=function(e){return e.userHasError},H=Object(p.c)(function(e,t){switch(t.type){case"startTodosLoading":return L({},e,{todosAreLoading:!0,todosHaveError:!1});case"startUserLoading":return L({},e,{userIsLoading:!0,userHasError:!1});case"setTodos":return L({},e,{todos:t.todos,todosAreLoading:!1});case"setUser":return L({},e,{currentUser:t.user,userIsLoading:!1});case"selectUser":return L({},e,{selectedUserId:t.userId});case"handleTodosError":return L({},e,{todosHaveError:!0,todosAreLoading:!1});case"handleUserError":return L({},e,{userHasError:!0,userIsLoading:!1});case"clearTodos":return L({},e,{todos:[]});case"clearUser":return L({},e,{currentUser:{}});default:return e}},{todos:[],todosAreLoading:!1,todosHaveError:!1,currentUser:{},selectedUserId:null,userIsLoading:!1,userHasError:!1},Object(p.a)(E.a)),D=Object(s.b)(null,function(e){return{loadUser:function(t){return e(w(t))}}})(function(e){var t=e.todos,n=e.loadUser;return a.a.createElement("div",{className:"TodoList"},a.a.createElement("strong",null,"Todos:"),a.a.createElement("ul",{className:"TodoList__list"},t.map(function(e){return a.a.createElement("li",{key:e.id,className:"TodoList__item"},a.a.createElement("label",{htmlFor:"todo-".concat(e.id)},a.a.createElement("input",{type:"checkbox",id:"todo-".concat(e.id),checked:e.completed,readOnly:!0}),e.title),a.a.createElement("button",{type:"button",onClick:function(){return n(e.userId)}},"User",e.userId))})))}),_=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).getTodos=function(){n.props.loadTodos()},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.todos,n=e.clear,r=e.todosAreLoading,o=e.hasError;return r?a.a.createElement("section",null,a.a.createElement("p",{className:"info"},"Loading..."),a.a.createElement("div",{className:"content"},a.a.createElement("div",{className:"loader"}))):o?a.a.createElement("section",null,a.a.createElement("p",{className:"info"},"Failed loading todos",a.a.createElement("button",{type:"button",onClick:this.getTodos},"Reload")),a.a.createElement("div",{className:"content"},a.a.createElement("p",null,"-"))):t.length<1?a.a.createElement("section",null,a.a.createElement("p",{className:"info"},"Todos are not loaded yet",a.a.createElement("button",{type:"button",onClick:this.getTodos},"Load")),a.a.createElement("div",{className:"content"},a.a.createElement("p",null,"-"))):a.a.createElement("section",null,t.length>1?a.a.createElement("p",{className:"info"},"6 todos are loaded",a.a.createElement("button",{type:"button",onClick:n},"Clear")):a.a.createElement("p",{className:"info"},"1 todo is loaded",a.a.createElement("button",{type:"button",onClick:n},"Clear")),a.a.createElement("div",{className:"content"},a.a.createElement(D,{todos:t})))}}]),t}(a.a.Component),F=Object(s.b)(function(e){return{todos:T(e),todosAreLoading:I(e),hasError:k(e)}},function(e){return{loadTodos:function(){return e(N())},clear:function(){return e({type:"clearTodos"})}}})(_),S=function(e){var t=e.user;return a.a.createElement("div",{className:"CurrentUser"},a.a.createElement("strong",null,"Selected user:"),a.a.createElement("ul",null,a.a.createElement("li",null,"#".concat(t.id)),a.a.createElement("li",null,t.name),a.a.createElement("li",null,t.email),a.a.createElement("li",null,t.phone)))},J=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).getUser=function(e){n.props.loadUser(e)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.currentUser,r=t.userId,o=t.clear,c=t.userIsLoading,s=t.hasError;return c?a.a.createElement("section",null,a.a.createElement("p",{className:"info"},"Loading..."),a.a.createElement("div",{className:"content"},a.a.createElement("div",{className:"loader"}))):s?a.a.createElement("section",null,a.a.createElement("p",{className:"info"},"Failed loading user",a.a.createElement("button",{type:"button",onClick:function(){return e.getUser(r)}},"Reload")),a.a.createElement("div",{className:"content"},a.a.createElement("p",null,"-"))):0===Object.keys(n).length?a.a.createElement("section",null,a.a.createElement("p",{className:"info"},"User is not selected"),a.a.createElement("div",{className:"content"},a.a.createElement("p",null,"-"))):a.a.createElement("section",null,a.a.createElement("p",{className:"info"},"User #".concat(n.id," is loaded"),a.a.createElement("button",{type:"button",onClick:o},"Clear")),a.a.createElement("div",{className:"content"},a.a.createElement(S,{user:n})))}}]),t}(a.a.Component),R=Object(s.b)(function(e){return{currentUser:C(e),userId:A(e),userIsLoading:x(e),hasError:P(e)}},function(e){return{loadTodos:function(){return e(N())},clear:function(){return e({type:"clearUser"})},loadUser:function(t){return e(w(t))}}})(J),B=function(){return a.a.createElement("main",{className:"App"},a.a.createElement(F,null),a.a.createElement(R,null))};c.a.render(a.a.createElement(function(){return a.a.createElement(s.a,{store:H},a.a.createElement(B,null))},null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.bc57141c.chunk.js.map